# Kufar Scraper GUI

Десктопное приложение с графическим интерфейсом для сбора, гибкой настройки и экспорта данных об объявлениях с сайта Kufar (re.kufar.by).

-----

## Основные возможности

* **Парсинг по URL:** Вставьте любую ссылку с фильтрами с сайта `re.kufar.by` для начала сбора данных.
* **Интерактивная настройка экспорта:** Удобный интерфейс для выбора полей, которые вы хотите видеть в итоговом файле.
* **Гибкая распаковка данных:** Возможность "расплющивать" сложные поля (например, параметры объявления или платные услуги) в отдельные столбцы.
* **Кастомизация заголовков:** Настраивайте имена столбцов в итоговом файле прямо в интерфейсе.
* **Динамический перевод ID:** Программа автоматически находит на сайте "словари-переводчики" и заменяет технические ID (например, `[1, 2, 6]`) на человекочитаемый текст ("Мебель, Холодильник, Посудомоечная машина").
* **Универсальность:** Механизмы распаковки и перевода спроектированы так, чтобы работать с различными типами данных, а не только с заранее известными полями.
* **Управление процессом:** Возможность отменить сбор данных в любой момент с сохранением уже полученных результатов.
* **Экспорт в популярные форматы:** Сохранение результатов в **CSV** (для Excel/Google Sheets) или **JSON**.

-----

## Установка и запуск

1. **Клонируйте репозиторий или скачайте архив с файлами.**

2. **Создайте и активируйте виртуальное окружение (рекомендуется).**

      * Для Windows:

        ```bash
        python -m venv venv
        .\venv\Scripts\activate
        ```

      * Для macOS/Linux:

        ```bash
        python3 -m venv venv
        source venv/bin/activate
        ```

3. **Установите все необходимые зависимости.**

    ```bash
    pip install -r requirements.txt
    ```

4. **Запустите приложение.**

    ```bash
    python gui_app.py
    ```

-----

## Как пользоваться

1. Вставьте ссылку с сайта `re.kufar.by` в верхнее поле ввода.
2. Настройте параметры в интерфейсе (задержка между запросами, заполнитель пустых полей и т.д.).
3. Нажмите кнопку **"Начать анализ и настройку"**.
4. В появившемся окне настройте поля для экспорта: выберите нужные, переименуйте столбцы, "распакуйте" сложные поля. Укажите желаемое количество страниц для сбора.
5. Нажмите **"Подтвердить и запустить парсинг"**.
6. Дождитесь завершения процесса. Файлы с результатами будут автоматически сохранены в папку `data`.

-----

## Структура проекта

* `gui_app.py`: Главный файл для запуска приложения. Содержит логику GUI и управление процессом.
* `scraper.py`: "Движок" парсера. Отвечает за получение и первичную обработку данных со страниц Kufar.
* `field_selector_win.py`: Код окна для выбора и настройки полей экспорта верхнего уровня.
* `sub_field_selector_win.py`: Код окна для "распаковки" и выбора вложенных полей.
* `requirements.txt`: Список внешних библиотек для установки.
* `data/`: Папка, в которую автоматически сохраняются все результаты экспорта.
